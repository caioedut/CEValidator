/**
 * CEValidator JavaScript
 *
 * @author Caio Eduardo <caioedut@outlook.com>
 * @date 2013-10-01
 * @git https://github.com/caioedut/CEValidator
 */
$(function(){var t=$(document);$(window).on("click keydown resize",function(){$(".cevalidator_tooltip").remove()}),t.on("submit","form.validate",function(t){return $(t.currentTarget).validate()}),t.on("keyup keydown blur","form.validate [data-validate]",function(){var t=$(this),e=cevalidator.tooltip;cevalidator.tooltip=!1,cevalidator.validate(t)?cevalidator.onSuccess(t):cevalidator.onError(t),cevalidator.tooltip=e})});var cevalidator={autofocus:!0,tooltip:!0,classError:"has-error",classSuccess:"has-success",onError:function(t){var e=t.closest("label");e.length&&(t=e),t.removeClass(this.classSuccess).addClass(this.classError)},onSuccess:function(t){var e=t.closest("label");e.length&&(t=e),t.removeClass(this.classError).addClass(this.classSuccess)},validate:function(t){var e=t.data("validate").toString().split("|");t.attr("placeholder")==t.val().trim()&&t.val("");var a=!0;if("checkbox"==t.attr("type"))return t.data("current-rule","checkbox"),this.rules.checkbox(t);if("radio"==t.attr("type"))return t.data("current-rule","radio"),this.rules.radio(t);for(var r in e){var n=e[r].toLowerCase().trim();parseInt(n)?(t.data("current-rule","minlength"),this.rules.minlength(t,parseInt(n))||(a=!1)):n.indexOf("match")>=0?(t.data("current-rule","match"),this.rules.match(t)||(a=!1)):this.rules[n]?(t.data("current-rule",n),this.rules[n](t)||(a=!1)):this.rules.regex(t)||(t.data("current-rule","regex"),a=!1)}return a},addRule:function(t,e,a){"function"==typeof e&&(this.rules[t]=e,a&&(this.messages[t]=a))},rules:{success:function(){return!0},checkbox:function(t){return t.is(":checked")},radio:function(t){var e=t.attr("name"),a=t.closest("form");return a.find('input[type="radio"][name="'+e+'"]:checked').length},minlength:function(t,e){var a=t.val().toString().trim();return t.attr("minlength",e),a.length>=e},required:function(t){return this.minlength(t,1)},email:function(t){var e=t.val().replace(/\s/g,""),a=/^[\w\.\-]{3,}@[\w\.\-]{3,}\.[a-zA-Z]{2,}$/;return a.test(e)},datetime:function(t){var e=t.val(),a=e.match(/^(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2})(:\d{2})?$/);if(null===a)return!1;var r=parseInt(a[3],10),n=parseInt(a[2],10)-1,i=parseInt(a[1],10),o=parseInt(a[4],10),s=parseInt(a[5],10),l=new Date(r,n,i,o,s);return l.getFullYear()!==r||l.getMonth()!=n||l.getDate()!==i||l.getHours()!==o||l.getMinutes()!==s?!1:!0},date:function(t){var e=t.val(),a=/^\d{2}\/\d{2}\/\d{4}$/;if(a.test(e)){var r=e.split("/"),n=new Date(r[2],r[1]-1,r[0]);if(n.getDate()==r[0]&&n.getMonth()+1==r[1]&&n.getFullYear()==r[2])return!0}return!1},time:function(t){var e=/^[0-9]{2}:[0-9]{2}(:\d{2})?$/,a=t.val();return e.test(a)},cpf:function(t){var e,a,r=t.val().replace(/\D/g,"");if(e=0,"00000000000"==r)return!1;for(var n=1;9>=n;n++)e+=parseInt(r.substring(n-1,n))*(11-n);if(a=10*e%11,(10==a||11==a)&&(a=0),a!=parseInt(r.substring(9,10)))return!1;for(e=0,n=1;10>=n;n++)e+=parseInt(r.substring(n-1,n))*(12-n);return a=10*e%11,(10==a||11==a)&&(a=0),a==parseInt(r.substring(10,11))},cnpj:function(t){var e=t.val().replace(/\D/g,"");if(""===e||14!=e.length||"00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var a=e.length-2,r=e.substring(0,a),n=e.substring(a),i=0,o=a-7,s=a;s>=1;s--)i+=r.charAt(a-s)*o--,2>o&&(o=9);var l=2>i%11?0:11-i%11;if(l!=n.charAt(0))return!1;for(a+=1,r=e.substring(0,a),i=0,o=a-7,s=a;s>=1;s--)i+=r.charAt(a-s)*o--,2>o&&(o=9);return l=2>i%11?0:11-i%11,l==n.charAt(1)},phone:function(t){var e=/^\d{10}\d?$/,a=t.val().replace(/\D/g,"");return e.test(a)},numeric:function(t){var e=t.val();return e.length>0&&parseInt(e)||"0"==e},cep:function(t){var e=/^\d{5}-\d{3}$/,a=t.val();return e.test(a)},url:function(t){var e=/^(ht|f)tps?:\/\/\w+([\.\-\w]+)?\.([a-z]{2,4})(:\d{2,5})?(\/.*)?$/i,a=t.val().replace("www.");return e.test(a)},decimal:function(t){var e=/^\d+(\.\d{2})?$/,a=t.val();return e.test(a)},match:function(t){var e=/\(["|'](.+)["|']\)/,a=t.attr("data-validate").trim(),r=a.match(e);if(r&&r[1]){var n=t.closest("form"),i=n.find('*[name="'+r[1]+'"]');if(t.val()==i.val()&&t.val().length>0)return!0}return!1},regex:function(t){var e=new RegExp(t.attr("data-validate")),a=t.val();return e.test(a)}},messages:{checkbox:"Este campo deve ser marcado",radio:"Selecione uma opção",minlength:function(t){return"Este campo deve conter no mínimo "+t.attr("minlength")+" caracteres"},required:"Este campo é obrigatório",email:"Este e-mail não é válido",datetime:"Preencha uma data e horário válidos",date:"Preencha uma data válida",time:"Este formato de hora não é válido",cpf:"Este CPF não é válido",cnpj:"Este CNPJ não é válido",phone:"Este telefone não é válido",numeric:"Este valor não é um número inteiro",cep:"Este CEP não é válido",url:"Este URL não é válido",decimal:"Este valor não é válido",match:"Os campos devem ser iguais",regex:"Preencha o campo corretamente"},showTooltip:function(t,e){if(this.tooltip){var a="Este campo é obrigatório";t.data("message")?a=t.attr("message"):this.messages[e]&&(a="function"==typeof this.messages[e]?this.messages[e](t):this.messages[e]);var r=t.offset();$("body").append('<div class="cevalidator_tooltip" style="position: absolute; left: '+r.left+"px; top: "+(r.top+t.outerHeight()+5)+'px; background: #282828; color: #FFFFFF; display: none; font-family: Arial; font-size: 13px; line-height: 16px; height: auto; margin: 0; padding: 10px 15px; text-align: center; width: auto; z-index: 9999;">   '+a+'   <div class="cevalidator_tooltip_arrow" style="position: absolute; top: -3px; color: #282828; font-family: Arial; font-size: 13px; line-height: 0; height: 14px; margin: 0; margin-left: -7px; padding: 0; text-align: center; width: 14px;">&#9650;</div></div>'),$(".cevalidator_tooltip").fadeIn(400)}}};jQuery.fn.validate=function(t){cevalidator=$.extend(cevalidator,$.fn.validate.defaults,t);var e=$(this);$(".cevalidator_tooltip").remove(),e.removeClass("validate-error");var a=[];return e.find("[data-validate]").each(function(){var t=$(this);cevalidator.validate(t)?cevalidator.onSuccess(t):a.push(t)}),a.length?(e.addClass("validate-error"),cevalidator.autofocus&&a[0].focus(),cevalidator.onError(a[0]),cevalidator.showTooltip(a[0],a[0].data("current-rule")),!1):!0},$.fn.validate.defaults={};